(this["webpackJsonptodo-ui"]=this["webpackJsonptodo-ui"]||[]).push([[0],{24:function(e,t,a){},27:function(e,t,a){e.exports=a(45)},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),o=a.n(s),c=(a(32),a(3)),i=a(4),l=a(5),u=a(6),m=(a(33),a(11)),h=a.n(m),d=a(2),p=a(14),f=a(9),v=(a(35),a(1)),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).cookies=e.cookies,n.state={fname:"",lname:"",username:"",password:"",redirect:!!n.cookies.cookies.username,error:""},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://to-do-rest-api.herokuapp.com/api/register/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({fname:this.state.fname,lname:this.state.lname,username:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){200===e.status?a.setState(Object(d.a)({},a.state,{redirect:!0})):a.setState(Object(d.a)({},a.state,{error:e.msg||e.message}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(v.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement("div",{className:"error"},this.state.error),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.fname,className:"form-control",name:"firstName",type:"text",onChange:function(t){return e.setState(Object(d.a)({},e.state,{fname:t.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.lname,className:"form-control",name:"lastName",type:"text",onChange:function(t){return e.setState(Object(d.a)({},e.state,{lname:t.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Userame"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.username,className:"form-control",name:"username",type:"text",onChange:function(t){return e.setState(Object(d.a)({},e.state,{username:t.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.password,className:"form-control",name:"password",type:"password",onChange:function(t){return e.setState(Object(d.a)({},e.state,{password:t.target.value}))}})),r.a.createElement("br",null),r.a.createElement("button",{className:"btn",type:"Submit"},"Register")),r.a.createElement("div",{className:"redirect"},"Already have an account? \xa0",r.a.createElement("a",{href:"/login"},"Log In")))}}]),a}(r.a.Component),b=(a(41),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).cookies=e.cookies,n.state={error:"",password:"",redirect:!!n.cookies.cookies.username,username:""},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://to-do-rest-api.herokuapp.com/api/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.setState(Object(d.a)({},a.state,{redirect:!0,error:""})),a.cookies.set("username",e.username),a.cookies.set("token",e.token)):a.setState(Object(d.a)({},a.state,{error:e.message}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(v.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Log In"),r.a.createElement("div",{className:"error"},this.state.error),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.username,className:"form-control",name:"username",type:"text",onChange:function(t){return e.setState(Object(d.a)({},e.state,{username:t.target.value}))}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("br",null),r.a.createElement("input",{value:this.state.password,className:"form-control",name:"password",type:"password",onChange:function(t){return e.setState(Object(d.a)({},e.state,{password:t.target.value}))}})),r.a.createElement("br",null),r.a.createElement("button",{className:"btn"},"Log In")),r.a.createElement("div",{className:"redirect"},"Don't have an account? \xa0",r.a.createElement("a",{href:"/register"},"Register")))}}]),a}(r.a.Component)),E=(a(24),a(42),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).parent=e.parent,n.cookies=e.cookies,n.state={task:""},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("https://to-do-rest-api.herokuapp.com/api/todo/add",{method:"POST",headers:{authorization:this.cookies.cookies.token,"content-type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){t.setState(Object(d.a)({},t.state,{task:""})),t.parent.fetchData()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-task"},r.a.createElement("form",{className:"add",onSubmit:this.handleSubmit},r.a.createElement("input",{name:"title",onChange:function(t){return e.setState(Object(d.a)({},e.state,{task:t.target.value}))},placeholder:"Add a new task",type:"text",value:this.state.task})))}}]),a}(r.a.Component)),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).parent=e.parent,n.cookies=e.cookies,n.state={title:e.title,keyIndex:e.keyIndex},n}return Object(i.a)(a,[{key:"deleteToDo",value:function(){var e=this;fetch("https://to-do-rest-api.herokuapp.com/api/todo/delete?id="+this.state.keyIndex,{headers:{authorization:this.cookies.cookies.token,"content-type":"application/json"}}).then((function(t){e.parent.fetchData()}))}},{key:"completeToDo",value:function(){var e=this;fetch("https://to-do-rest-api.herokuapp.com/api/todo/complete?id="+this.state.keyIndex,{headers:{authorization:this.cookies.cookies.token,"content-type":"application/json"}}).then((function(t){e.parent.fetchData()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{key:this.state.keyIndex,className:"item-container clearfix"},r.a.createElement("div",{className:this.props.isCompleted+" item"},this.state.title),r.a.createElement("div",{className:"delete",onClick:function(){return e.deleteToDo()}}),r.a.createElement("div",{className:this.props.isCompleted+"-check check",onClick:function(){return e.completeToDo()}}))}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).cookies=e.cookies,n.state={todos:[],change:!1,redirect:!n.cookies.cookies.username},n}return Object(i.a)(a,[{key:"fetchData",value:function(){var e=this;fetch("https://to-do-rest-api.herokuapp.com/api/todo",{headers:{authorization:this.cookies.cookies.token,username:this.cookies.cookies.username}}).then((function(e){return e.json()})).then((function(t){void 0===t.todo?window.location.reload(!0):e.setState({todos:t.todo})}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"showItem",value:function(e,t){if(-1!==e.title.toLowerCase().indexOf(this.props.searchQuery)){if(1===this.props.navSelected&&"remaining"===e.status||2===this.props.navSelected&&"completed"===e.status)return;if(!e.deleted)return r.a.createElement(O,{parent:this,cookies:this.cookies,key:e.id,isCompleted:e.status,keyIndex:e.id,title:e.title})}}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(v.a,{to:"/login"}):r.a.createElement("div",{className:"to-do-container"},r.a.createElement(E,{cookies:this.cookies,parent:this}),r.a.createElement("ul",null,this.state.todos.map((function(t,a){return e.showItem(t,a)}))))}}]),a}(r.a.Component),y=(a(43),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).render=function(){return n.state.redirect?r.a.createElement(v.a,{to:"/login"}):r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",{className:"user-functions"},r.a.createElement("div",{className:"username"},n.cookies.cookies.username),r.a.createElement("div",{className:"log-out",onClick:n.handleLogOut},"Log Out")),r.a.createElement("ul",{className:"nav-items"},n.state.items.map((function(e,t){return n.renderListItemColor(t,e)}))))},n.renderListItemColor=function(e,t){var a;return a=e===n.state.selected?"selected nav-item":"not-selected nav-item",r.a.createElement("li",{className:a,key:e,onClick:function(){return n.setSelected(e)}},t)},n.setSelected=function(e){n.setState({selected:e}),n.props.navSelected(e)},n.cookies=e.cookies,n.state={items:["Home","Completed","Remaining"],selected:0,redirect:!1},n.handleLogOut=n.handleLogOut.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleLogOut",value:function(){this.cookies.set("username",""),this.cookies.set("token",""),this.setState(Object(d.a)({},this.state,{redirect:!0}))}}]),a}(r.a.Component)),g=(a(44),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onChangeValue=function(t){e.setState({myInput:t.target.value}),e.props.searchQuery(t.target.value.toLowerCase()||"")},e.state={myInput:""},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("input",{onChange:this.onChangeValue,placeholder:"Search",value:this.state.myInput}))}}]),a}(r.a.Component)),S=a(46),N=a(10),C=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).setNavSelected=function(e){n.setState({navSelected:e})},n.setSearchQuery=function(e){n.setState({searchQuery:e})},n.props=e,n.state={navSelected:0,searchQuery:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(N.a,null,r.a.createElement(v.b,{path:"/register",component:function(){return r.a.createElement(k,{cookies:e.props.cookies})}}),r.a.createElement(v.b,{path:"/login",component:function(){return r.a.createElement(b,{cookies:e.props.cookies})}}),r.a.createElement(v.b,{exact:!0,path:"/",render:function(t){return r.a.createElement("div",null,r.a.createElement(y,{navSelected:e.setNavSelected,cookies:e.props.cookies}),r.a.createElement(g,{searchQuery:e.setSearchQuery}),r.a.createElement(j,{cookies:e.props.cookies,navSelected:e.state.navSelected,searchQuery:e.state.searchQuery}))}}))}}]),a}(r.a.Component),w=Object(S.a)(C),x=a(47);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x.a,null,r.a.createElement(w,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.94657a57.chunk.js.map